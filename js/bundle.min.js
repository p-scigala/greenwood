function animateNumber(e,t,s,i="",a=""){const o=performance.now();requestAnimationFrame(function n(r){const l=r-o,c=Math.min(l/s,1),d=Math.floor(c*t);e.textContent=i+d+a,c<1&&requestAnimationFrame(n)})}function customSelectInit(){document.querySelectorAll("select").forEach(e=>{const t=document.createElement("div");t.className="select";const s=document.createElement("div");s.className="select__selected",s.innerHTML=e.options[e.selectedIndex].innerHTML,t.appendChild(s);const i=document.createElement("div");i.className="select__items",Array.from(e.options).forEach(a=>{const o=document.createElement("div");o.innerHTML=a.innerHTML,o.className="select__item",o.addEventListener("click",()=>{s.innerHTML=a.innerHTML,e.value=a.value,Array.from(e.options).forEach(e=>e.selected=!1),a.selected=!0,e.selectedIndex=Array.from(e.options).indexOf(a);const i=new Event("change",{bubbles:!0});e.dispatchEvent(i),setTimeout(()=>t.classList.remove("moving"),0),setTimeout(()=>t.classList.remove("active"),150)}),a.value||o.classList.add("select__item--placeholder"),i.appendChild(o)}),t.appendChild(i),t.querySelector(".select__items").style.width=t.scrollWidth+"px",e.style.display="none",e.parentNode.insertBefore(t,e);const a=document.querySelector("[label='"+e.id+"']");a&&(a.classList.add("select-label"),a.addEventListener("click",()=>{document.querySelectorAll(".select").forEach(e=>{e.classList.remove("active")}),t.querySelector(".select__items").style.width=t.scrollWidth+"px",t.classList.toggle("active"),t.classList.add("moving"),setTimeout(()=>t.classList.remove("moving"),150)})),t.addEventListener("click",e=>{e.stopPropagation(),document.querySelectorAll(".select").forEach(e=>{e.classList.remove("active")}),t.querySelector(".select__items").style.width=t.scrollWidth+"px",t.classList.toggle("active"),t.classList.add("moving"),setTimeout(()=>t.classList.remove("moving"),150)}),document.addEventListener("click",()=>{setTimeout(()=>t.classList.remove("active"),150),t.classList.remove("moving")})})}function galleryInit(){const e=document.querySelectorAll(".gallery-slider__slide");if(e.length>0){const t=e[0].parentElement;let s=!1;t.addEventListener("mousedown",()=>{s=!1}),t.addEventListener("touchstart",()=>{s=!1}),t.addEventListener("mousemove",()=>{s=!0}),t.addEventListener("touchmove",()=>{s=!0}),e.forEach(e=>{const t=e.getAttribute("data-src");t&&e.addEventListener("click",i=>{if(s)return i.preventDefault(),void i.stopPropagation();modal(e,t)})})}const t=document.querySelectorAll(".gallery__category");if(0!==t.length){const e=document.querySelector(".gallery__wrapper"),s=document.querySelector(".gallery__categories-wrapper"),i=document.querySelectorAll(".gallery__items-wrapper");t.forEach(t=>{t.addEventListener("click",()=>{const a=t.getAttribute("data-category");i.forEach(t=>{if(t.getAttribute("data-category")===a){t.classList.add("active"),e.style.height=`${t.scrollHeight}px`,s.classList.add("hidden"),setTimeout(()=>{e.style.height=`${t.scrollHeight}px`},10);t.querySelectorAll(".gallery__item").forEach(e=>{const t=e.getAttribute("data-thumb"),s=e.getAttribute("data-src"),i=e.getAttribute("data-type");let a=null;t&&(e.querySelector("img")?(a=e.querySelector("img"),a.src=t):(a=document.createElement("img"),a.src=t,e.appendChild(a)),s&&e.addEventListener("click",()=>{modal(a,s,i)}))})}})})});const a=document.querySelectorAll(".gallery__back-button");a&&a.forEach(t=>{t.addEventListener("click",()=>{i.forEach(e=>{e.classList.remove("active")}),e.style.height="auto",s.classList.remove("hidden")})})}}function modal(e,t,s){if(!document.querySelector(".gallery-modal")){const i=document.createElement("div");i.classList.add("gallery-modal"),i.style.left=`${e.getBoundingClientRect().left}px`,i.style.top=`${e.getBoundingClientRect().top}px`,i.style.width=`${e.offsetWidth}px`,i.style.height=`${e.offsetHeight}px`,s&&"image"!==s||(i.innerHTML=`<img src="${t}" alt="Galeria - obraz" class="gallery-modal__image">`),"video"===s&&(i.innerHTML=`<video controls class="gallery-modal__video">\n                        <source src="${t}" type="video/mp4">\n                        Your browser does not support the video tag.\n                      </video>`),"iframe"===s&&(i.innerHTML=`<iframe src="${t}" class="gallery-modal__iframe" frameborder="0" allowfullscreen></iframe>`);const a=document.createElement("button");a.classList.add("gallery-modal__close"),a.addEventListener("click",()=>{i.classList.remove("active"),setTimeout(()=>i.remove(),300)}),i.appendChild(a),document.body.appendChild(i),setTimeout(()=>{i.style.left="0",i.style.top="0",i.style.width="100%",i.style.height="100%",i.classList.add("active")},10),i.addEventListener("click",()=>{i.classList.remove("active"),setTimeout(()=>i.remove(),300)})}}function headerInit(){const e=document.querySelector(".header__menu-toggle"),t=document.querySelector(".header");e.addEventListener("click",()=>{document.body.classList.toggle("menu-open"),t.classList.toggle("header--active")});const s=document.querySelector("main");s&&"page-home"===s.id&&t.classList.add("header--home");document.querySelectorAll(".header__nav > ul > li").forEach(e=>{if(e.querySelector("a").href===window.location.href&&e.classList.add("active"),vw<=1024){const t=e.querySelector("ul"),s=e.querySelector("i");s&&s.addEventListener("click",e=>{e.preventDefault(),t.classList.toggle("active"),s.classList.toggle("active")})}}),window.addEventListener("scroll",()=>{window.scrollY>50?t.classList.add("header--scrolled"):t.classList.remove("header--scrolled")})}function heroInit(){const e=document.querySelector(".hero .searcher__more"),t=document.querySelector(".hero__pagination-wrapper"),s=document.querySelector(".hero__title"),i=document.querySelector(".hero__description");e&&e.addEventListener("click",function(){t&&t.classList.toggle("hidden"),s&&s.classList.toggle("hidden"),i&&i.classList.toggle("hidden")})}let vw=document.body.clientWidth,vh=document.body.clientHeight;function debounce(e,t){let s;return function(...i){clearTimeout(s),s=setTimeout(()=>{e.apply(this,i)},t)}}function inputsInit(){const e=document.querySelectorAll(".input");e.length>0&&e.forEach(e=>{const t=e.querySelector("label"),s=e.querySelector("input, textarea"),i=s.hasAttribute("placeholder");t&&i&&(t.style.opacity="0"),s.addEventListener("focus",()=>{e.classList.add("input--focused"),t&&i&&(t.style.opacity="0")}),s.addEventListener("blur",()=>{s.value&&""!==s.value?t&&i&&(t.style.opacity="1"):e.classList.remove("input--focused")})})}function poiInit(){const e=document.querySelectorAll(".poi__item");0!==e.length&&e.forEach(e=>{e.addEventListener("click",()=>{if(e.classList.toggle("poi__item--active"),vw<800){let t=e.getBoundingClientRect().left+window.scrollX-vw/2;e.querySelector(".poi__item-description").style.left=`${t}px`}})})}function ratingInit(){const e=document.querySelectorAll(".rating");0!==e.length&&e.forEach(e=>{const t=e.getAttribute("data-rating");e.style.setProperty("--rating",t),e.classList.add(`rating--${t}`);for(let s=0;s<t;s++){const t=document.createElement("span");t.classList.add("rating__star"),e.appendChild(t)}})}function scrollAnimationInit(){const e=document.querySelectorAll(".scroll-animation"),t=document.querySelectorAll(".animated-number"),s=document.querySelectorAll(".steps__item"),i=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting&&(e.target.classList.add("visible"),e.target.classList.contains("data-banner__item")&&(e.target.style.minWidth=e.target.offsetWidth+"px"),e.target.classList.contains("animated-number"))){const t=e.target.textContent.trim();let s=2e3,i="",a=1,o="",n="";"slow"===e.target.getAttribute("data-speed")?s=3e3:"fast"===e.target.getAttribute("data-speed")&&(s=1e3),"10"===e.target.getAttribute("data-multiplier")?(i="0",a=10):"100"===e.target.getAttribute("data-multiplier")&&(i="00",a=100),e.target.getAttribute("data-prefix")&&(o=e.target.getAttribute("data-prefix")),e.target.getAttribute("data-postfix")&&(n=e.target.getAttribute("data-postfix")),e.target.classList.contains("done")||(animateNumber(e.target,t/a+i,s,o,n),setTimeout(()=>e.target.classList.add("done"),s+1))}})},{root:null,rootMargin:"0px",threshold:.1}),a=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.classList.add("active"):e.target.classList.remove("active")})},{root:null,rootMargin:"-50% 0% -20% 0%",threshold:0});e.forEach(e=>{i.observe(e)}),t.forEach(e=>{i.observe(e)}),s.forEach(e=>{a.observe(e)})}function searcherInit(){const e=document.querySelector(".searcher__display-filters");if(e){const t=e.querySelectorAll("button"),s=e.nextElementSibling,i=s.classList.contains("searcher__items");t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(e=>e.classList.remove("active")),e.classList.add("active"),s.classList.remove("searcher__items--list"),s.classList.remove("searcher__items--block"),i&&(e.classList.contains("filter__display--list")?s.classList.add("searcher__items--list"):e.classList.contains("filter__display--block")&&s.classList.add("searcher__items--block"))})})}const t=document.querySelector(".searcher__filters");if(t){const e=t.querySelector(".searcher__more"),s=t.querySelector(".searcher__selects");e&&e.addEventListener("click",i=>{i.preventDefault(),t.classList.toggle("active"),s.classList.toggle("searcher__selects--expanded"),t.classList.contains("active")?e.textContent="Mniej filtrów":e.textContent="Więcej filtrów"})}removeListTypeOnMobile()}function removeListTypeOnMobile(){const e=document.querySelector(".searcher__items--list");vw<=800&&e&&(e.classList.add("searcher__items--block"),e.classList.remove("searcher__items--list"))}function slickInit(){const e="<button type='button' class='slick-prev btn btn--arrow btn--arrow-left btn--border'></button>",t="<button type='button' class='slick-next btn btn--arrow btn--arrow-right btn--border'></button>";$(".hero__slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,prevArrow:e,nextArrow:t,variableWidth:!1,centerMode:!1,fade:!0,cssEase:"linear",responsive:[{breakpoint:800,settings:{arrows:!1}}]});let s=1;function i(e){var t,s,i=e.parent().find(".pagination-bar__progress").find(".pagination-bar__progress-bar"),a=149,o=!1;e.on("init reInit afterChange",function(e,t,s){!function(e,t){var s=a/(t-1)*e;i.css("transform",`translateX(${s}px)`)}(s,t.slideCount)}),i.on("mousedown touchstart",function(e){e.preventDefault(),o=!0,t=e.pageX||e.originalEvent.touches[0].pageX,s=parseFloat(i.css("transform").split(",")[4])||0,i.css("transition","none")}),$(document).on("mousemove touchmove",function(e){if(o){var n=(e.pageX||e.originalEvent.touches[0].pageX)-t,r=Math.min(Math.max(s+n,0),a);i.css("transform",`translateX(${r}px)`),i.css("transition","none")}}),$(document).on("mouseup touchend",function(){if(o){o=!1,i.css("transition","");var t=parseFloat(i.css("transform").split(",")[4])/a,s=e.slick("getSlick").slideCount,n=Math.round(t*(s-1));e.slick("slickGoTo",n)}}),e.find(".panel--main, .panel--news, .panel--plan").on("mouseover",function(){$(this).siblings().addClass("opacity-50")}),e.find(".panel--main, .panel--news, .panel--plan").on("mouseout",function(){$(this).siblings().removeClass("opacity-50")})}$(".slider").each(function(){if($(this).hasClass("slider--with-bar")){const e=$(this).next().find(".pagination-bar__buttons");0!==e.length&&e.prop("id",`slider-buttons-${s}`)}if($(this).hasClass("apartment__gallery-slider")){const i=document.createElement("div");i.className="slider-nav",Array.from(this.children).forEach(e=>{if(e.hasAttribute("data-content"))if("iframe"===e.getAttribute("data-type")){const t=document.createElement("iframe");t.src=e.getAttribute("data-content"),e.append(t)}else if("video"===e.getAttribute("data-type")){const t=document.createElement("video");t.src=e.getAttribute("data-content"),t.controls=!0,e.append(t)}else if("image"===e.getAttribute("data-type")){const t=document.createElement("img");t.src=e.getAttribute("data-content"),e.append(t)}const t=document.createElement("div");if(t.className="slider-nav__item",e.hasAttribute("data-thumb")){const s=document.createElement("img");s.src=e.getAttribute("data-thumb")||"imgs/photos/placeholder.jpg",s.alt=e.getAttribute("data-label")||"Thumbnail",t.appendChild(s)}if(e.hasAttribute("data-label")){const s=document.createElement("span");s.className="slider-nav__label",s.textContent=e.getAttribute("data-label"),t.appendChild(s)}i.appendChild(t)}),$(this).after(i),$(this).not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,prevArrow:e,nextArrow:t,variableWidth:!0,infinite:!0,centerMode:!0,cssEase:"ease-in-out",asNavFor:".slider-nav",appendArrows:`#slider-buttons-${s}`,responsive:[{breakpoint:800,settings:{arrows:!1}}]}),$(i).not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".apartment__gallery-slider",focusOnSelect:!0,arrows:!1,dots:!1,variableWidth:!0,infinite:!0,cssEase:"ease-in-out"})}else $(this).slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,prevArrow:e,nextArrow:t,variableWidth:!0,infinite:!0,centerMode:!0,cssEase:"ease-in-out",responsive:[{breakpoint:800,settings:{arrows:!1}}]});s++,$(this).on("mousedown touchstart",function(e){$(this).find(".panel--main, .panel--news, .panel--plan").removeClass("opacity-50")})}),$(document).ready(function(){$(".slider--with-bar").each(function(){i($(this))})}),window.addEventListener("resize",function(){$(".slider--with-bar").each(function(){i($(this))})}),fixApartmentGalleryItemsWidth()}function fixApartmentGalleryItemsWidth(){const e=document.querySelector(".apartment__gallery-slider");if(e){const t=e.offsetWidth;e.querySelectorAll(".apartment__gallery-item").forEach(e=>{e.style.width=`${t}px`})}}function tabsVideoInit(){const e=document.querySelectorAll(".tabs-video");0!==e.length&&e.forEach(e=>{const t=e.querySelectorAll(".tabs-video__btn"),s=e.querySelector(".tabs-video__video"),i=e.querySelectorAll(".tabs-video__item");t[0].classList.add("tabs-video__btn--active"),s.src=t[0].getAttribute("data-src"),s.classList.remove("tabs-video__video--hidden"),t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(e=>e.classList.remove("tabs-video__btn--active")),i.forEach(e=>e.classList.remove("tabs-video__item--active")),e.classList.add("tabs-video__btn--active");const a=e.getAttribute("data-src");s.classList.add("tabs-video__video--hidden"),setTimeout(()=>{s.src=a},300),setTimeout(()=>{s.classList.remove("tabs-video__video--hidden")},600)})})})}function tabsInit(){const e=document.querySelectorAll(".tabs");e&&e.forEach(e=>{const t=e.querySelectorAll(".tabs__button"),s=e.querySelector(".tabs__content"),i=e.querySelectorAll(".tabs__item"),a=e.classList.contains("tabs--adaptive"),o=s.querySelector(".tabs__item.tabs__item--active");if(s.style.height=`${o.scrollHeight}px`,!a){let e=s.style.height;e=parseInt(e,10),i.forEach(t=>{t.scrollHeight>e&&(e=t.scrollHeight)}),s.style.minHeight=`${e}px`}t.forEach(o=>{o.addEventListener("click",()=>{t.forEach(e=>e.classList.remove("tabs__button--active")),i.forEach(e=>e.classList.remove("tabs__item--active")),o.classList.add("tabs__button--active");const n=o.getAttribute("data-tab"),r=e.querySelector(`.tabs__item[data-content="${n}"]`);r.classList.add("tabs__item--active"),s.style.height=a?`${r.scrollHeight+15}px`:`${r.scrollHeight}px`})})})}window.addEventListener("resize",function(){document.body.clientWidth!==vw&&(vw=document.body.clientWidth,vh=document.body.clientHeight),debounce(fixApartmentGalleryItemsWidth(),300),debounce(removeListTypeOnMobile(),300)}),document.addEventListener("DOMContentLoaded",function(){scrollAnimationInit(),customSelectInit(),slickInit(),searcherInit(),tabsInit(),tabsVideoInit(),poiInit(),headerInit(),ratingInit(),inputsInit(),heroInit(),galleryInit()});