function animateNumber(e,t,s,i="",n=""){const a=performance.now();requestAnimationFrame(function o(r){const c=r-a,l=Math.min(c/s,1),d=Math.floor(l*t);e.textContent=i+d+n,l<1&&requestAnimationFrame(o)})}function customSelectInit(){document.querySelectorAll("select").forEach(e=>{const t=document.createElement("div");t.className="select";const s=document.createElement("div");s.className="select__selected",s.innerHTML=e.options[e.selectedIndex].innerHTML,t.appendChild(s);const i=document.createElement("div");i.className="select__items",Array.from(e.options).forEach(n=>{const a=document.createElement("div");a.innerHTML=n.innerHTML,a.className="select__item",a.addEventListener("click",()=>{s.innerHTML=n.innerHTML,e.value=n.value,Array.from(e.options).forEach(e=>e.selected=!1),n.selected=!0,e.selectedIndex=Array.from(e.options).indexOf(n);const i=new Event("change",{bubbles:!0});e.dispatchEvent(i),setTimeout(()=>t.classList.remove("moving"),0),setTimeout(()=>t.classList.remove("active"),150)}),n.value||a.classList.add("select__item--placeholder"),i.appendChild(a)}),t.appendChild(i),t.querySelector(".select__items").style.width=t.scrollWidth+"px",e.style.display="none",e.parentNode.insertBefore(t,e);const n=document.querySelector("[label='"+e.id+"']");n&&(n.classList.add("select-label"),n.addEventListener("click",()=>{document.querySelectorAll(".select").forEach(e=>{e.classList.remove("active")}),t.querySelector(".select__items").style.width=t.scrollWidth+"px",t.classList.toggle("active"),t.classList.add("moving"),setTimeout(()=>t.classList.remove("moving"),150)})),t.addEventListener("click",e=>{e.stopPropagation(),document.querySelectorAll(".select").forEach(e=>{e.classList.remove("active")}),t.querySelector(".select__items").style.width=t.scrollWidth+"px",t.classList.toggle("active"),t.classList.add("moving"),setTimeout(()=>t.classList.remove("moving"),150)}),document.addEventListener("click",()=>{setTimeout(()=>t.classList.remove("active"),150),t.classList.remove("moving")})})}function filtersInit(){const e=document.querySelector(".searcher__display-filters");if(e){const t=e.querySelectorAll("button"),s=e.nextElementSibling,i=s.classList.contains("searcher__items");t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(e=>e.classList.remove("active")),e.classList.add("active"),s.classList.remove("searcher__items--list"),s.classList.remove("searcher__items--block"),i&&(e.classList.contains("filter__display--list")?s.classList.add("searcher__items--list"):e.classList.contains("filter__display--block")&&s.classList.add("searcher__items--block"))})})}}function galleryInit(){const t=document.querySelectorAll(".gallery-slider__item");if(t.length>0){const s=t[0].parentElement;let i=!1;s.addEventListener("mousedown",()=>{i=!1}),s.addEventListener("touchstart",()=>{i=!1}),s.addEventListener("mousemove",()=>{i=!0}),s.addEventListener("touchmove",()=>{i=!0}),t.forEach(t=>{const s=t.getAttribute("data-src");s&&t.addEventListener("click",()=>{if(i)return e.preventDefault(),void e.stopPropagation();const n=document.createElement("div");n.classList.add("gallery-modal"),n.style.left=`${t.getBoundingClientRect().left}px`,n.style.top=`${t.getBoundingClientRect().top}px`,n.style.width=`${t.offsetWidth}px`,n.style.height=`${t.offsetHeight}px`,n.innerHTML=`<img src="${s}" alt="Galeria - obraz" class="gallery-modal__image">`,document.body.appendChild(n),setTimeout(()=>{n.style.left="0",n.style.top="0",n.style.width="100%",n.style.height="100%",n.classList.add("active")},10),n.addEventListener("click",()=>{n.classList.remove("active"),setTimeout(()=>{document.body.removeChild(n)},300)})})})}}function headerInit(){const e=document.querySelector(".header__menu-toggle"),t=document.querySelector(".header");e.addEventListener("click",()=>{document.body.classList.toggle("menu-open"),t.classList.toggle("header--active")});document.querySelectorAll(".header__nav > ul > li").forEach(e=>{if(e.querySelector("a").href===window.location.href&&e.classList.add("active"),vw<=1024){const t=e.querySelector("ul"),s=e.querySelector("i");s&&s.addEventListener("click",e=>{e.preventDefault(),t.classList.toggle("active"),s.classList.toggle("active")})}}),window.addEventListener("scroll",()=>{window.scrollY>50?t.classList.add("header--scrolled"):t.classList.remove("header--scrolled")})}function heroInit(){const e=document.querySelector(".hero .searcher__more"),t=document.querySelector(".hero__pagination-wrapper");console.log(e,t),e&&t&&e.addEventListener("click",function(){t.classList.toggle("hidden")})}let vw=document.body.clientWidth,vh=document.body.clientHeight;function debounce(e,t){let s;return function(...i){clearTimeout(s),s=setTimeout(()=>{e.apply(this,i)},t)}}function inputsInit(){const e=document.querySelectorAll(".input");e.length>0&&e.forEach(e=>{e.querySelector("label");const t=e.querySelector("input, textarea");t.addEventListener("focus",()=>{e.classList.add("input--focused")}),t.addEventListener("blur",()=>{t.value||e.classList.remove("input--focused")})})}function poiInit(){const e=document.querySelectorAll(".poi__item");0!==e.length&&e.forEach(e=>{e.addEventListener("click",()=>{if(e.classList.toggle("poi__item--active"),vw<800){let t=e.getBoundingClientRect().left+window.scrollX-vw/2;e.querySelector(".poi__item-description").style.left=`${t}px`}})})}function ratingInit(){const e=document.querySelectorAll(".rating");0!==e.length&&e.forEach(e=>{const t=e.getAttribute("data-rating");e.style.setProperty("--rating",t),e.classList.add(`rating--${t}`);for(let s=0;s<t;s++){const t=document.createElement("span");t.classList.add("rating__star"),e.appendChild(t)}})}function scrollAnimationInit(){const e=document.querySelectorAll(".scroll-animation"),t=document.querySelectorAll(".animated-number"),s=document.querySelectorAll(".steps__item"),i=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting&&(e.target.classList.add("visible"),e.target.classList.contains("data-banner__item")&&(e.target.style.minWidth=e.target.offsetWidth+"px"),e.target.classList.contains("animated-number"))){const t=e.target.textContent.trim();let s=2e3,i="",n=1,a="",o="";"slow"===e.target.getAttribute("data-speed")?s=3e3:"fast"===e.target.getAttribute("data-speed")&&(s=1e3),"10"===e.target.getAttribute("data-multiplier")?(i="0",n=10):"100"===e.target.getAttribute("data-multiplier")&&(i="00",n=100),e.target.getAttribute("data-prefix")&&(a=e.target.getAttribute("data-prefix")),e.target.getAttribute("data-postfix")&&(o=e.target.getAttribute("data-postfix")),e.target.classList.contains("done")||(animateNumber(e.target,t/n+i,s,a,o),setTimeout(()=>e.target.classList.add("done"),s+1))}})},{root:null,rootMargin:"0px",threshold:.1}),n=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?e.target.classList.add("active"):e.target.classList.remove("active")})},{root:null,rootMargin:"-50% 0% -20% 0%",threshold:0});e.forEach(e=>{i.observe(e)}),t.forEach(e=>{i.observe(e)}),s.forEach(e=>{n.observe(e)})}function searcherInit(){const e=document.querySelector(".searcher__filters");if(e){const t=e.querySelector(".searcher__more"),s=e.querySelector(".searcher__selects");t&&t.addEventListener("click",i=>{i.preventDefault(),e.classList.toggle("active"),s.classList.toggle("searcher__selects--expanded"),e.classList.contains("active")?t.textContent="Mniej filtrów":t.textContent="Więcej filtrów"})}}function slickInit(){const e="<button type='button' class='slick-prev btn btn--arrow btn--arrow-left btn--border'></button>",t="<button type='button' class='slick-next btn btn--arrow btn--arrow-right btn--border'></button>";$(".hero__slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,prevArrow:e,nextArrow:t,variableWidth:!1,centerMode:!1,fade:!0,cssEase:"linear",responsive:[{breakpoint:800,settings:{arrows:!1}}]});let s=1;function i(e){var t,s,i=e.parent().find(".pagination-bar__progress").find(".pagination-bar__progress-bar"),n=149,a=!1;e.on("init reInit afterChange",function(e,t,s){!function(e,t){var s=n/(t-1)*e;i.css("transform",`translateX(${s}px)`)}(s,t.slideCount)}),i.on("mousedown touchstart",function(e){e.preventDefault(),a=!0,t=e.pageX||e.originalEvent.touches[0].pageX,s=parseFloat(i.css("transform").split(",")[4])||0,i.css("transition","none")}),$(document).on("mousemove touchmove",function(e){if(a){var o=(e.pageX||e.originalEvent.touches[0].pageX)-t,r=Math.min(Math.max(s+o,0),n);i.css("transform",`translateX(${r}px)`),i.css("transition","none")}}),$(document).on("mouseup touchend",function(){if(a){a=!1,i.css("transition","");var t=parseFloat(i.css("transform").split(",")[4])/n,s=e.slick("getSlick").slideCount,o=Math.round(t*(s-1));e.slick("slickGoTo",o)}}),e.find(".panel--main, .panel--news, .panel--plan").on("mouseover",function(){$(this).siblings().addClass("opacity-50")}),e.find(".panel--main, .panel--news, .panel--plan").on("mouseout",function(){$(this).siblings().removeClass("opacity-50")})}$(".slider").each(function(){if($(this).hasClass("slider--with-bar")){const e=$(this).next().find(".pagination-bar__buttons");0!==e.length&&e.prop("id",`slider-buttons-${s}`)}if($(this).hasClass("apartment__gallery-slider")){const i=document.createElement("div");i.className="slider-nav",Array.from(this.children).forEach(e=>{if(e.hasAttribute("data-content"))if("iframe"===e.getAttribute("data-type")){const t=document.createElement("iframe");t.src=e.getAttribute("data-content"),e.append(t)}else if("video"===e.getAttribute("data-type")){const t=document.createElement("video");t.src=e.getAttribute("data-content"),t.controls=!0,e.append(t)}else if("image"===e.getAttribute("data-type")){const t=document.createElement("img");t.src=e.getAttribute("data-content"),e.append(t)}const t=document.createElement("div");if(t.className="slider-nav__item",e.hasAttribute("data-thumb")){const s=document.createElement("img");s.src=e.getAttribute("data-thumb")||"imgs/photos/placeholder.jpg",s.alt=e.getAttribute("data-label")||"Thumbnail",t.appendChild(s)}if(e.hasAttribute("data-label")){const s=document.createElement("span");s.className="slider-nav__label",s.textContent=e.getAttribute("data-label"),t.appendChild(s)}i.appendChild(t)}),$(this).after(i),$(this).not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,prevArrow:e,nextArrow:t,variableWidth:!0,infinite:!0,centerMode:!0,cssEase:"ease-in-out",asNavFor:".slider-nav",appendArrows:`#slider-buttons-${s}`,responsive:[{breakpoint:800,settings:{arrows:!1}}]}),$(i).not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,asNavFor:".apartment__gallery-slider",focusOnSelect:!0,arrows:!1,dots:!1,variableWidth:!0,infinite:!0,cssEase:"ease-in-out"})}else $(this).slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,prevArrow:e,nextArrow:t,variableWidth:!0,infinite:!0,centerMode:!0,cssEase:"ease-in-out",responsive:[{breakpoint:800,settings:{arrows:!1}}]});s++,$(this).on("mousedown touchstart",function(e){$(this).find(".panel--main, .panel--news, .panel--plan").removeClass("opacity-50")})}),$(document).ready(function(){$(".slider--with-bar").each(function(){i($(this))})}),window.addEventListener("resize",function(){$(".slider--with-bar").each(function(){i($(this))})}),fixApartmentGalleryItemsWidth()}function fixApartmentGalleryItemsWidth(){const e=document.querySelector(".apartment__gallery-slider");if(e){const t=e.offsetWidth;e.querySelectorAll(".apartment__gallery-item").forEach(e=>{e.style.width=`${t}px`})}}function tabsVideoInit(){const e=document.querySelectorAll(".tabs-video");0!==e.length&&e.forEach(e=>{const t=e.querySelectorAll(".tabs-video__btn"),s=e.querySelector(".tabs-video__video"),i=e.querySelectorAll(".tabs-video__item");t[0].classList.add("tabs-video__btn--active"),s.src=t[0].getAttribute("data-src"),s.classList.remove("tabs-video__video--hidden"),t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(e=>e.classList.remove("tabs-video__btn--active")),i.forEach(e=>e.classList.remove("tabs-video__item--active")),e.classList.add("tabs-video__btn--active");const n=e.getAttribute("data-src");s.classList.add("tabs-video__video--hidden"),setTimeout(()=>{s.src=n},300),setTimeout(()=>{s.classList.remove("tabs-video__video--hidden")},600)})})})}function tabsInit(){const e=document.querySelectorAll(".tabs");e&&e.forEach(e=>{const t=e.querySelectorAll(".tabs__button"),s=e.querySelector(".tabs__content"),i=e.querySelectorAll(".tabs__item"),n=e.classList.contains("tabs--adaptive"),a=s.querySelector(".tabs__item.tabs__item--active");if(s.style.height=`${a.scrollHeight}px`,!n){let e=s.style.height;e=parseInt(e,10),i.forEach(t=>{t.scrollHeight>e&&(e=t.scrollHeight)}),s.style.minHeight=`${e}px`}t.forEach(a=>{a.addEventListener("click",()=>{t.forEach(e=>e.classList.remove("tabs__button--active")),i.forEach(e=>e.classList.remove("tabs__item--active")),a.classList.add("tabs__button--active");const o=a.getAttribute("data-tab"),r=e.querySelector(`.tabs__item[data-content="${o}"]`);r.classList.add("tabs__item--active"),s.style.height=n?`${r.scrollHeight+15}px`:`${r.scrollHeight}px`})})})}window.addEventListener("resize",function(){document.body.clientWidth!==vw&&(vw=document.body.clientWidth,vh=document.body.clientHeight),debounce(fixApartmentGalleryItemsWidth,300)}),document.addEventListener("DOMContentLoaded",function(){scrollAnimationInit(),customSelectInit(),slickInit(),searcherInit(),tabsInit(),tabsVideoInit(),poiInit(),headerInit(),ratingInit(),inputsInit(),filtersInit(),heroInit(),galleryInit()});